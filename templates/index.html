{% extends 'base.html' %}
{% load static %}
{% load i18n %}

{% block title %}{% trans "Bosh sahifa" %}{% endblock %}

{% block content %}
<!-- Loader qismi -->
<div id="loader" class="fixed inset-0 z-50 flex items-center justify-center bg-black">
    <div class="relative w-full h-full">
            <video id="loaderVideo" class="w-full h-full object-cover">
    <source src="{% static 'imgs/loader.mp4' %}" type="video/mp4">
    {% trans "Sizning brauzeringiz video formatini qo'llab-quvvatlamaydi." %}
</video>

<button id="startButton" class="absolute bottom-10 left-1/2 transform -translate-x-1/2 bg-[#1479C1] text-white px-6 py-2 rounded-lg hover:bg-[#0f5e95] transition">
    {% trans "Boshlash" %}
</button>
    </div>
</div>

<section class="flex flex-col-reverse md:flex-row items-center justify-center text-white px-4 md:px-20 py-12 gap-10">
    <div class="text-center md:text-left">
        <h2 class="w-full md:w-[700px] text-2xl md:text-5xl font-semibold">
           {% trans "AURA Groupning rasmiy veb-saytiga xush kelibsiz! Biz sizga raqamli yechimlarni taklif qilamiz" %}
        </h2>
        <p class="mt-6 text-base md:text-lg">
           {% trans "AURA Group – Aqlli Yechimlar. Haqiqiy Natijalar." %}
        </p>
        <span class="flex flex-col md:flex-row items-center gap-4 mt-10">
            <a href="{% url 'contact' %}" class="bg-[#1479C1] rounded-lg px-4 py-2">{% trans "Biz bilan bog'laning" %}</a>
            <a href="{% url 'services' %}" class="underline underline-offset-4">{% trans "Xizmatlar bilan tanishish" %}</a>
        </span>
    </div>

    <div>
        <img src="{% static 'imgs/homePage.png' %}" alt="" class="w-full max-w-[500px] h-auto object-contain">
    </div>
</section>

<!-- Advantages -->
<section class="text-white flex flex-col items-center">
    <span class="text-3xl font-semibold">{% trans "Nega aynan biz?" %}</span>
    <div class="flex flex-col md:flex-row gap-4 mt-8">
      <div class="w-[380px] py-8 rounded-lg bg-[#0A1122] hover:bg-[#0A1124] flex flex-col items-center justify-center text-center">
        <img src="{% static 'imgs/cardIcon.jpg' %}" alt="" class="rounded-full">
        <h3 class="text-lg">{% trans "Innovatsion yechimlar" %}</h3>
        <p class="text-sm mt-3">{% trans "Har bir loyiha uchun zamonaviy va samarali texnologik yondashuv. Fikrlar — amaliyotga, natijalar — muvaffaqiyatga aylanishi uchun ishlaymiz." %}</p>
      </div>
      <div class="w-[380px] py-8 rounded-lg bg-[#0A1122] hover:bg-[#0A1124] flex flex-col items-center justify-center text-center">
        <img src="{% static 'imgs/cardIcon1.jpg' %}" alt="" class="rounded-full">
        <h3 class="text-lg">{% trans "Professional jamoa" %}</h3>
        <p class="text-sm mt-3">{% trans "Bizda hamma bir-birini tushunadi. Dasturchilar, dizaynerlar, marketologlar — har kim o‘z ishining ustasi. Hammasi bir maqsad yo‘lida, yagona jamoa bo‘lib harakat qiladi. Fikr almashamiz, yordam beramiz, ba’zida bahslashamiz ham. Ammo oxirida hamma narsa bitta maqsadga xizmat qiladi — startaplar yaratish va odamlarning muammolariga real yechim topish." %}</p>
      </div>
      <div class="w-[380px] py-8 rounded-lg bg-[#0A1122] hover:bg-[#0A1124] flex flex-col items-center justify-center text-center">
        <img src="{% static 'imgs/cardIcon2.jpg' %}" alt="" class="rounded-full">
        <h3 class="text-lg">{% trans "Sifat va Natija" %}</h3>
        <p class="text-sm mt-3">{% trans "Har bir loyiha mukammal bajariladi. Biz uchun eng muhim narsa — sifat va mijozning roziligi." %}</p>
      </div>
    </div>
</section>

<!-- Xizmatlar -->
<section class="flex flex-col-reverse md:flex-row items-center justify-center px-6 md:px-20 py-16 gap-12 mt-8 text-white">
    <div class="w-full md:w-1/2 flex justify-center">
        <img src="{% static 'imgs/services.png' %}" alt="{% trans 'Xizmatlar rasmi' %}" class="max-w-full h-auto">
    </div>

    <div class="w-full md:w-1/2">
        <h2 class="text-2xl md:text-4xl font-semibold mb-4">{% trans "Bizning xizmatlar" %}</h2>
        <p class="text-sm md:text-base text-gray-300 mb-6">
            {% trans "Biz turli sohalar uchun mos yechimlar taklif qilamiz. Har bir mijoz individual yondashuv va eng optimal yechimlarni oladi." %}
        </p>

        <ul class="space-y-3 mb-6">
            {% for service in services %}
            <li class="flex items-start gap-2">
                <span class="text-blue-400">✔</span> {{ service.get_name_display }}
            </li>
            {% endfor %}
        </ul>

        <a href="{% url 'services' %}" class="bg-[#1479C1] px-6 py-2 rounded-lg text-white hover:bg-[#0f5e95] transition">
            {% trans "Barcha xizmatlar" %}
        </a>
    </div>
</section>

<!-- Jamoa -->
<section class="py-16 px-6 md:px-20 bg-[#0A1124] text-white text-center">
    <h2 class="text-2xl md:text-4xl font-bold mb-2">{% trans "Bizning jamoa" %}</h2>
    <p class="text-gray-300 mb-8">{% trans "Ko'p yillik tajribaga ega professional jamoamiz" %}</p>

    <div id="team-cards" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6 justify-center">
        {% for member in team_members %}
        <div class="bg-[#081331] rounded-xl text-left overflow-hidden p-4">
            <img src="{{ member.image.url }}" alt="{% trans "Jamoa a'zosi" %}" class="w-[150px] h-[150px] object-cover rounded-lg transition-transform duration-300 hover:scale-105">
            <h3 class="mt-4 font-semibold text-xl">{{ member.name }}</h3>
            <p class="text-[#6ADAFC] text-sm">{{ member.position }}</p>
            <p class="text-sm mt-2 text-gray-300">{{ member.description }}</p>
        </div>
        {% endfor %}
    </div>

    <a href="{% url 'about' %}"
      class="mt-10 border border-[#1479C1] text-[#1479C1] px-6 py-2 rounded hover:bg-[#1479C1] hover:text-white transition inline-block">
      {% trans "Ko‘proq" %}
    </a>
</section>

<!-- Aloqa -->
<div class="px-4 py-12">
    <div class="flex flex-col items-center text-white text-center max-w-2xl mx-auto">
        <h1 class="text-3xl font-semibold">{% trans "Biz bilan bog'laning" %}</h1>
    </div>

    <div class="mt-12 flex flex-col md:flex-row items-center md:items-start justify-center gap-8 p-6 rounded-xl bg-[#12192C] w-full max-w-7xl mx-auto"
        style="background-image: url('{% static 'imgs/background.png' %}'); background-repeat: no-repeat; background-size: 400px; background-position: left top;">
        <div class="bg-gray-600 opacity-85 p-[60px] rounded-2xl border border-[#5389D6] w-[360px] md:w-[400px] h-[400px]">
            <ul class="space-y-2">
                <li class="flex items-start h-[100px] gap-6">
                    <i class="fas fa-map-marker-alt text-[#081331] mr-3 mt-1 p-3 rounded-full bg-white w-9 h-9 flex items-center"></i>
                    <span class="text-gray-300">
                        <h3>{% trans "Manzil" %}</h3>
                        <p>{% trans "Navoi shahar" %}</p>
                    </span>
                </li>
                <li class="flex items-start h-[100px] gap-6">
                    <i class="fas fa-phone-alt text-[#081331] mr-3 mt-1 p-3 rounded-full bg-white w-9 h-9 flex items-center"></i>
                    <span class="text-gray-300">
                        <h3>{% trans "Telefon" %}</h3>
                        <p>+998 50 702 24 08</p>
                    </span>
                </li>
                <li class="flex items-start h-[100px] gap-6">
                    <i class="fas fa-envelope text-[#081331] mr-3 mt-1 p-3 rounded-full bg-white w-9 h-9 flex items-center"></i>
                    <span class="text-gray-300">
                        <h3>{% trans "Email" %}</h3>
                        <p>info@auragroup.uz</p>
                    </span>
                </li>
            </ul>
        </div>
        <div class="w-full max-w-2xl text-gray-200">
            <form class="space-y-4" method="post" action="{% url 'contact' %}">
                {% csrf_token %}
                <div class="flex flex-col">
                    <label for="fullname">{% trans "To'liq ism" %}</label>
                    <input type="text" id="fullname" name="full_name" class="bg-[#333344] h-10 rounded-lg mt-1 px-4" />
                </div>
                <div class="flex flex-col">
                    <label for="phone">{% trans "Telefon raqam" %}</label>
                    <input type="text" id="phone" name="phone_number" class="bg-[#333344] h-10 rounded-lg mt-1 px-4" />
                </div>
                <div class="flex flex-col">
                    <label for="email">{% trans "Email" %}</label>
                    <input type="email" id="email" name="email" class="bg-[#333344] h-10 rounded-lg mt-1 px-4" />
                </div>
                <div class="flex flex-col">
                    <label for="message">{% trans "Xabar" %}</label>
                    <textarea id="message" name="message" rows="4" class="bg-[#333344] rounded-lg mt-1 px-4 py-2"></textarea>
                </div>
                <div class="flex justify-end gap-4 mt-4">
                    <button type="reset" class="border border-[#1479C1] py-2 px-6 text-[#1479C1] rounded-lg">{% trans "Tozalash" %}</button>
                    <button type="submit" class="bg-[#1479C1] py-2 px-6 text-white rounded-lg">{% trans "Yuborish" %}</button>
                </div>
            </form>
        </div>
    </div>
</div>
<script>
document.addEventListener("DOMContentLoaded", function() {
    const video = document.getElementById("loaderVideo");
    const startButton = document.getElementById("startButton");
    const loader = document.getElementById("loader");

    // localStorage orqali tekshiramiz
    const loaderSeen = localStorage.getItem("loaderSeen");

    if (loaderSeen) {
        // Agar oldin loader ko‘rsatilgan bo‘lsa, uni yashiramiz
        loader.style.display = "none";
        return;
    }

    // Boshlash tugmasini bosganda video ishlaydi
    startButton.addEventListener("click", async () => {
        try {
            await video.play();
            startButton.style.display = "none";
        } catch (err) {
            console.error("Video boshlashda xatolik:", err);
        }
    });

    // Video tugagandan keyin loaderni yo‘qotish va localStorage ga belgi qo‘yish
    video.addEventListener("ended", () => {
        loader.style.display = "none";
        localStorage.setItem("loaderSeen", "true");
    });
});
</script>

{% endblock %}
